<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinanceFlow - Estrutura do sistema – elaboração do diagrama de classes.</title>

    <link rel="icon" type="image/png" href="src/favicon.png" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="src/style.css" />

    <!-- Mermaid via módulo ES -->
    <script type="module">
      import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
      mermaid.initialize({ startOnLoad: false, theme: "forest" });

      window.addEventListener("DOMContentLoaded", async () => {
        try {
          const response = await fetch("src/classes.mmd");
          const mmdText = await response.text();
          const container = document.querySelector("#mermaid-diagram");
          container.textContent = mmdText;
          mermaid.init(undefined, container);
        } catch (error) {
          console.error("Erro ao carregar o diagrama:", error);
        }
      });
    </script>
  </head>

  <body>
    <header class="sticky-top">
      <nav class="navbar navbar-expand-lg bg-light">
        <div class="container">
          <a class="navbar-brand fw-bold text-success" href="index.html">
            <i class="bi bi-diagram-3-fill me-2"></i>Projeto de Sistemas
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto"></ul>
          </div>
        </div>
      </nav>
    </header>

    <main class="container my-5">
      <!-- Título da página -->
      <section class="text-center mb-5">
        <h1 class="display-6 fw-bold text-success-emphasis">
          Semana 3 — Diagrama de Classes
        </h1>
        <p class="lead text-muted mt-2">
          FinanceFlow — Estrutura de classes e relacionamentos
        </p>
      </section>

      <!-- Diagrama de Classes em "box" (card), igual o padrão da Semana 2 -->
      <section id="digramaClass" class="mb-5">
        <h2 class="h4 fw-bold mb-3 section-title">Diagrama de Classes</h2>

        <div class="card shadow-sm">
          <div class="card-body">
            <!-- Aqui o diagrama será inserido -->
            <div id="mermaid-diagram" class="mermaid text-center"></div>
          </div>
        </div>
      </section>

      <!-- Navegação entre semanas -->
      <div class="d-flex justify-content-between align-items-center mt-5">
        <a href="semana2.html" class="btn btn-outline-success">
          <i class="bi bi-arrow-left-circle me-2"></i> Semana 2
        </a>
        <a href="semana4.html" class="btn btn-success">
          Semana 4 <i class="bi bi-arrow-right-circle ms-2"></i>
        </a>
      </div>
    </main>

    <footer class="text-center py-4 mt-5 bg-light">
      <p class="mb-0 small text-muted">
        Material produzido para a disciplina Projeto e Desenvolvimento de Sistemas — IFSP Câmpus São João da Boa Vista.
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
